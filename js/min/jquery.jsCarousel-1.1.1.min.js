/*
    jsCarousel by Juanma Santoyo, version 1.0.0.
    http://www.juanmasantoyo.es
*/

(function (d) { var c = { settings: null, interval: null, counter: 0, loaded: false }; var b = { onLoad: null }; var a = { _init: function (e) { var f = this; c.settings = d.extend({ interval: 1000, autoStart: true, direction: 1, effect: "simple", effectDuration: 500, width: "auto", height: "auto" }, e); return this.each(function () { var k = d(this); var j = ""; var i = d("li", k); i.each(function (o) { var l = d(this); if (o > 0) { l.hide() } var m = d("a", l); var n = d(a._stringFormat('<img src="{src}" alt="{title}" />', { src: m.data("image"), alt: m.attr("title") })); m.html(n) }); k.css({ display: "block", margin: 0, padding: 0, width: c.settings.width, height: c.settings.height, border: 0 }); var h = 0; var g = d("img", k); g.load(function () { h++; if (h == g.size()) { c.loaded = true; if (c.settings.autoStart) { a._start(f) } if (typeof (b.onLoad) == "function") { b.onLoad() } } }) }) }, start: function () { return a._start(this) }, _start: function (e) { if (c.loaded) { if (d("li", e).size() > 1) { c.interval = window.setInterval(function () { a._next(e) }, c.settings.interval) } } else { c.settings.autoStart = true } return e }, stop: function (e) { return a._stop(this) }, _stop: function (e) { window.clearInterval(c.interval); return e }, next: function () { return a._next(this) }, _next: function (e) { return e.each(function () { var i = d(this); var f = d("li", i); var g = f.size(); var j = (c.counter + g) % g; c.counter += c.settings.direction; var h = (c.counter + g) % g; a._applyEffect(f, j, h) }) }, previous: function () { return a._previous(this) }, _previous: function (e) { c.settings.direction *= -1; a._next(e); c.settings.direction *= -1; return e }, addCallback: function (e, f) { return a._addCallback(this, e, f) }, _addCallback: function (g, e, f) { b[e] = f; return g }, removeCallback: function (e) { return a._removeCallback(this, e) }, _removeCallback: function (f, e) { b[e] = null; return f }, options: function (e) { return a._options(this, e) }, _options: function (f, e) { c.settings = d.extend(c.settings, (e) ? e : {}); a._stop(f); a._start(f); return c.settings }, _stringFormat: function (f, e) { for (var g in e) { var h = new RegExp("\\{" + (g) + "\\}", "ig"); f = f.replace(h, e[g]) } return f }, _applyEffect: function (e, g, f) { if (c.settings.effect === "simple") { a._applySimpleEffect(e, g, f) } else { if (c.settings.effect === "fade") { a._applyFadeEffect(e, g, f) } else { if (c.settings.effect === "slide") { a._applySlideEffect(e, g, f) } } } }, _applySimpleEffect: function (e, g, f) { d(e[g]).css({ display: "none" }); d(e[f]).css({ display: "list-item" }) }, _applyFadeEffect: function (e, g, f) { d(e[g]).parent().css({ position: "relative" }); d(e[g]).css({ position: "absolute", top: "0", left: "0", "z-index": "2", display: "list-item" }); d(e[f]).css({ position: "absolute", top: "0", left: "0", "z-index": "1", display: "list-item" }); d(e[g]).fadeOut(c.settings.effectDuration) }, _applySlideEffect: function (e, g, f) { d(e[g]).parent().css({ position: "relative" }); d(e[g]).css({ position: "absolute", top: "0", left: "0", "z-index": "2", display: "list-item" }); d(e[f]).css({ position: "absolute", top: "0", left: "0", "z-index": "1", display: "list-item" }); d(e[g]).slideUp(c.settings.effectDuration) }, _isPublic: function (e) { return e.charAt(0) != "_" } }; d.fn.jsCarousel = function (e) { if (a[e] && a._isPublic(e)) { return a[e].apply(this, Array.prototype.slice.call(arguments, 1)) } else { if (typeof e === "object" || !e) { return a._init.apply(this, arguments) } else { d.error("Method " + e + " does not exist on jQuery.jsCarousel") } } } })(jQuery);